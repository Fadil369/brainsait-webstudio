# Cloudflare Pages Configuration for BrainSAIT
name = "brainsait-webstudio"
compatibility_date = "2024-11-21"
compatibility_flags = ["nodejs_compat"]

# Account details (replace with your Cloudflare account ID)
# account_id = "your-account-id-here"

# Production route
# route = "brainsait.io/*"
# routes = [
#   { pattern = "elfadil.com/*", zone_name = "elfadil.com" },
#   { pattern = "brainsait.io/*", zone_name = "brainsait.io" }
# ]

[site]
bucket = "./public"

# Build configuration
[build]
command = "npm run build"
cwd = "."
watch_dir = "app"

[build.upload]
format = "service-worker"

# Environment variables for production
[env.production]
NODE_ENV = "production"

[env.production.vars]
STRIPE_PUBLIC_KEY = "pk_live_YOUR_KEY_HERE"
GOOGLE_CALENDAR_API_KEY = "YOUR_KEY_HERE"

# Environment variables for preview
[env.preview]
NODE_ENV = "development"

[env.preview.vars]
STRIPE_PUBLIC_KEY = "pk_test_YOUR_KEY_HERE"

# KV Namespaces (for session storage, booking data)
# [[kv_namespaces]]
# binding = "BRAINSAIT_BOOKINGS"
# id = "your-kv-namespace-id"
# preview_id = "your-preview-kv-namespace-id"

# D1 Database (for storing bookings)
# [[d1_databases]]
# binding = "DB"
# database_name = "brainsait-bookings"
# database_id = "your-database-id"

# R2 Buckets (for file uploads if needed)
# [[r2_buckets]]
# binding = "ASSETS"
# bucket_name = "brainsait-assets"
# preview_bucket_name = "brainsait-assets-preview"
